class Toast{constructor(id,ty,ic,te,d=!1,ani=!1){let a_types;this.verification(id,ty,ic,d,ani),this.id=id,this.type="info",["info","success","warning","error"].includes(ty.trim().toLowerCase())?this.type=ty.trim().toLowerCase():this.type="info",this.icon=ic.trim().toLowerCase(),this.text=te.trim(),this.dismissible=d,this.is_build=!1,this.isAnimated=ani,this.html_toast=null,this.customMargin=15}show(){this.is_build?this.refresh():(this.html_toast=this.generate(),this.is_build=!0),document.body.append(this.html_toast),this.dismissible?this.html_toast.classList.add("tiny-toast-stay"):(this.html_toast.classList.add("tiny-toast-show"),setTimeout(()=>{this.hide(this.id)},5e3))}generate(){const el=document.createElement("div");el.setAttribute("id",this.id),el.classList.add("tiny-toast","toast-"+this.type);const elImg=document.createElement("div");elImg.setAttribute("id",this.id+"Img"),elImg.classList.add("tiny-toast-img","toast-img-"+this.type);const elImgIcon=document.createElement("i");elImgIcon.setAttribute("id",this.id+"ImgIcon"),elImgIcon.classList.add("tiny-toast-icon","fa"),this.isAnimated&&elImgIcon.classList.add("tiny-toast-animated"),this.icon.split(" ").forEach(e=>{elImgIcon.classList.add(e)}),elImg.appendChild(elImgIcon);const elDesc=document.createElement("div");elDesc.setAttribute("id",this.id+"Desc"),elDesc.classList.add("tiny-toast-desc");const elDescText=document.createElement("div");if(elDescText.setAttribute("id",this.id+"DescText"),elDescText.innerText=this.text,elDesc.appendChild(elDescText),this.dismissible){elDesc.classList.add("toast-dismissible");const elDescDismiss=document.createElement("span");elDescDismiss.setAttribute("id",this.id+"DescText"),elDescDismiss.setAttribute("data-toast-id",this.id),elDescDismiss.classList.add("toast-close-btn"),elDescDismiss.innerHTML="&times",elDesc.appendChild(elDescDismiss)}el.appendChild(elImg),el.appendChild(elDesc);let idPredecessor=this.getIdPredecessor();return""!==idPredecessor&&(el.style.marginTop=this.generateCustomCss(idPredecessor)),el}refresh(){this.html_toast.classList.remove("toast-hide","tiny-toast-show","tiny-toast-stay"),this.html_toast.children[1].hidden=!1}hide(toastId){const toast=document.getElementById(toastId);toast.style.minWidth="350px",toast.children[1].classList.add("hide-content"),toast.children[1].hidden=!0,toast.classList.add("toast-hide"),setTimeout(()=>{toast.remove()},2e3),this.update()}static staticHidding(toastId){const toast=document.getElementById(toastId);toast.style.minWidth="350px",toast.children[1].classList.add("hide-content"),toast.children[1].hidden=!0,toast.classList.add("toast-hide"),setTimeout(()=>{toast.remove()},2e3)}generateCustomCss(id){let cssEl=getComputedStyle(document.getElementById(id));return parseInt(cssEl.marginTop)+parseInt(cssEl.height)+this.customMargin+"px"}getIdPredecessor(){const el=document.getElementsByClassName("tiny-toast");return 0===el.length?"":el[el.length-1].id}update(){let toasts=document.getElementsByClassName("tiny-toast");for(let i=0;i<toasts.length;i++)0===i?toasts[i].style.removeProperty("margin-top"):toasts[i].style.marginTop=this.generateCustomCss(toasts[i-1].id)}verification(id,ty,ic,d,ani){if(document.getElementById(id))throw Error("ID given is already in use");if("string"!=typeof id)throw TypeError("ID must be a string");if("string"!=typeof ty)throw TypeError("Type must be a string");if("string"!=typeof ic)throw TypeError("Icone must be a string");if("boolean"!=typeof d)throw TypeError("Dismissible must be a boolean");if("boolean"!=typeof ani)throw TypeError("Animation must be a boolean")}}document.addEventListener("click",(function(e){e.target.classList.contains("toast-close-btn")&&Toast.staticHidding(e.target.dataset.toastId)}),!1);