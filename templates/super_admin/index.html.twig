{% extends 'admin.html.twig' %}

{% block title %}Hello SuperAdminController!{% endblock %}

{% block body %}
<main class="main-admin">

    <div class="d-flex flex-column flex-shrink-0 p-3 bg-light"
      style="width: 280px;">
        <a href="/"
          class="d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
            <img src="{{ asset('images/logo.png') }}"
              height="30"
              width="30" />
            <span class="fs-4 poppins bold">Esca'Lab</span>
        </a>
        <hr>
        <ul class="nav nav-pills flex-column mb-auto">
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link active"
                  aria-current="page">
                    <i class="bi bi-bar-chart-line"></i>
                    KPIs
                </a>
            </li>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-calendar-plus"></i>
                    Évènements
                </a>
            </li>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-people"></i>
                    Utilisateurs
                </a>
            </li>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-card-image"></i>
                    Médias
                </a>
            </li>
            <hr>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">
                    <i class="bi bi-briefcase"></i>
                    Franchises
                    <span class="badge bg-primary"
                      style="text-align: right;">4</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-building"></i>
                    Salles
                    <span class="badge bg-primary"
                      style="text-align: right;">27</span>
                </a>
            </li>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-bricks"></i>
                    Voies
                    <span class="badge bg-primary"
                      style="text-align: right;">27</span>
                </a>
            </li>
            <hr>
            <li class="nav-item">
                <a href="#"
                  class="poppins regular nav-link link-dark"
                  aria-current="page">

                    <i class="bi bi-piggy-bank"></i>
                    Paiements
                    <span class="badge bg-danger"
                      style="text-align: right;">7</span>
                </a>
            </li>


        </ul>
        <hr>
        <div class="dropdown">
            <a href="#"
              class="d-flex align-items-center link-dark text-decoration-none dropdown-toggle"
              id="dropdownUser2"
              data-bs-toggle="dropdown"
              aria-expanded="false">
                <img src="https://github.com/mdo.png"
                  alt=""
                  width="32"
                  height="32"
                  class="rounded-circle me-2">
                <strong>{{user.username}}</strong>
            </a>
            <ul class="dropdown-menu text-small shadow"
              aria-labelledby="dropdownUser2">
                <li>
                    <a class="dropdown-item"
                      href="/">Retour au site</a>
                </li>
                <li>
                    <a class="dropdown-item"
                      href="#">Mon profil</a>
                </li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li>
                    <a class="dropdown-item"
                      href="#">Se déconnecter</a>
                </li>
            </ul>
        </div>
    </div>
    <div class="divider-admin"></div>

    <div class="container"
      style="overflow-y:auto">
        <div class="row"
          style="padding-top: 70px;">
            <div class="col">
                <div class="custom-container">
                    <h1 class="poppins bold text-center">Gains bruts <sup class="poppins tiny">(6 derniers mois non
                            cumulés)</sup>
                    </h1>
                    <canvas id="myChart"
                      width="600"
                      height="300"></canvas>
                </div>
            </div>
            <div class="col">
                <div class="custom-container">
                    <h1 class="poppins bold text-center">Répartition utilisateurs</h1>
                    <canvas id="myChart2"
                      width="600"
                      height="300"></canvas>
                </div>
            </div>
        </div>
        <br>
        <div class="row"
          style="padding-top: 50px;">
            <div class="col">
                <div class="row">
                    <div class="col-sm-3">
                        <div class="custom-container">
                            <h1 class="text-center"
                              style="color: #0d6efd;"><i class="bi bi-bricks"></i></h1>
                            <h2 class="poppins bold text-center">572</h2>
                            <p class="poppins text-center">Voies ouvertes</p>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="custom-container">
                            <h1 class="text-center"
                              style="color: #0d6efd;"><i class="bi bi-building"></i></h1>
                            <h2 class="poppins bold text-center">34</h2>
                            <p class="poppins text-center">Salles ouvertes</p>

                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="custom-container">
                            <h1 class="text-center"
                              style="color: #0d6efd;"><i class="bi bi-card-image"></i></h1>
                            <h2 class="poppins bold text-center">1293</h2>
                            <p class="poppins text-center">Média postés</p>

                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="custom-container">
                            <img width="100%"
                              height="40"
                              class="blue-svg"
                              src="/images/calendars/{{month}}.svg">
                            <h1 class="text-center"
                              style="color: #0d6efd;"></h1>
                            <h2 class="poppins bold text-center">13</h2>
                            <p class="poppins text-center">Évènements mensuels</p>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <script>
        const ctx = document.getElementById('myChart').getContext('2d');
        const ctx2 = document.getElementById('myChart2').getContext('2d');
        const data = {
            labels: ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin'],
            datasets: [{
                label: '# of Votes',
                data: [240, 375, 300, 412, 540, 780],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                    'rgba(153, 102, 255, 0.2)',
                    'rgba(255, 159, 64, 0.2)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)',
                    'rgba(255, 159, 64, 1)'
                ],
                borderWidth: 1
            }]
        };
        const data2 = {
            labels: ['Gestionnaire de franchise', 'Gestionnaire de salles', 'Ouvreurs', 'Utilisateurs'],
            datasets: [{
                label: '# of Votes',
                data: [9, 34, 82, 412],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.2)',
                    'rgba(54, 162, 235, 0.2)',
                    'rgba(255, 206, 86, 0.2)',
                    'rgba(75, 192, 192, 0.2)',
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                ],
                borderWidth: 1
            }]
        };
        const config = {
            type: 'line',
            data: data,
            options: {
                responsive: false,
                plugins: {
                    legend: {
                        position: 'none',
                    }
                }
            },
        };
        const config2 = {
            type: 'doughnut',
            data: data2,
            options: {
                responsive: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                    },
                }
            },
        };
        const myChart = new Chart(ctx, config);
        const myChart2 = new Chart(ctx2, config2);
    </script>


</main>

{% endblock %}